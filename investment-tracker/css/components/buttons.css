/*
 * Button 元件樣式
 * --------------------------------------------------
 * 定義了應用程式中所有類型的按鈕樣式。
 */

/*
 * M3 Expressive Button 元件樣式
 * --------------------------------------------------
 * 情感支持的按鈕設計，為投資決策提供信心和舒適感
 */

/* 
 * 填滿樣式按鈕 (Filled Button) - 主要操作
 * --------------------------------------------------
 */
.filled-button {
    background-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary);
    border: none;
    border-radius: var(--md-sys-shape-corner-expressive-large); /* 表達性圓角 */
    padding: var(--md-sys-spacing-medium) var(--md-sys-spacing-extra-large);
    font-family: 'Roboto', sans-serif;
    font-size: var(--md-sys-typescale-label-large-font-size);
    font-weight: var(--md-sys-typescale-label-large-font-weight);
    line-height: var(--md-sys-typescale-label-large-line-height);
    cursor: pointer;
    box-shadow: var(--md-sys-elevation-level2);
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: var(--md-sys-spacing-small);
    min-height: 48px; /* 增加高度提供更好的觸控體驗 */
    
    /* M3 Expressive 彈性動畫 */
    transition: 
        background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        box-shadow var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-spring-snappy);
}

.filled-button:hover {
    box-shadow: var(--md-sys-elevation-level3);
    transform: translateY(-1px) scale(1.02); /* 微妙的上浮和放大 */
}

.filled-button:active {
    transform: translateY(0px) scale(0.98); /* 按下效果 */
    transition-duration: var(--md-sys-motion-duration-short1);
}

/* 
 * 成長主題按鈕 - 買入操作
 * --------------------------------------------------
 */
.filled-button.growth-action {
    background: linear-gradient(135deg, 
        var(--md-sys-color-growth-primary) 0%, 
        var(--md-sys-color-growth-primary-light) 100%);
    color: var(--md-sys-color-on-growth);
}

.filled-button.growth-action:hover {
    background: linear-gradient(135deg, 
        var(--md-sys-color-growth-primary-light) 0%, 
        var(--md-sys-color-growth-primary) 100%);
    box-shadow: 
        var(--md-sys-elevation-level4),
        0 0 20px rgba(46, 125, 50, 0.3); /* 綠色光暈 */
}

/* 
 * 行動主題按鈕 - 賣出操作
 * --------------------------------------------------
 */
.filled-button.action-theme {
    background: linear-gradient(135deg, 
        var(--md-sys-color-action-primary) 0%, 
        var(--md-sys-color-action-primary-light) 100%);
    color: var(--md-sys-color-on-action);
}

.filled-button.action-theme:hover {
    background: linear-gradient(135deg, 
        var(--md-sys-color-action-primary-light) 0%, 
        var(--md-sys-color-action-primary) 100%);
    box-shadow: 
        var(--md-sys-elevation-level4),
        0 0 20px rgba(230, 81, 0, 0.3); /* 橘色光暈 */
}

/* 
 * 輪廓樣式按鈕 (Outlined Button) - 次要操作
 * --------------------------------------------------
 */
.outlined-button {
    background: transparent;
    color: var(--md-sys-color-primary);
    border: 2px solid var(--md-sys-color-outline); /* 增加邊框寬度 */
    border-radius: var(--md-sys-shape-corner-expressive-medium);
    padding: calc(var(--md-sys-spacing-medium) - 2px) calc(var(--md-sys-spacing-extra-large) - 2px); /* 調整內距以補償邊框 */
    font-family: 'Roboto', sans-serif;
    font-size: var(--md-sys-typescale-label-large-font-size);
    font-weight: var(--md-sys-typescale-label-large-font-weight);
    line-height: var(--md-sys-typescale-label-large-line-height);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: var(--md-sys-spacing-small);
    min-height: 48px;
    
    transition: 
        border-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        color var(--md-sys-motion-duration-medium1) var(--md-sys-motion-easing-emphasized),
        transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-spring-snappy);
}

.outlined-button:hover {
    border-color: var(--md-sys-color-primary);
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
    transform: translateY(-1px);
}

/* 
 * 文字按鈕 (Text Button) - 最低優先級操作
 * --------------------------------------------------
 */
.text-button {
    background: none;
    color: var(--md-sys-color-primary);
    border: none;
    border-radius: var(--md-sys-shape-corner-medium);
    padding: var(--md-sys-spacing-small) var(--md-sys-spacing-medium);
    font-family: 'Roboto', sans-serif;
    font-size: var(--md-sys-typescale-label-large-font-size);
    font-weight: var(--md-sys-typescale-label-large-font-weight);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: var(--md-sys-spacing-small);
    min-height: 40px;
    
    transition: 
        background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized),
        color var(--md-sys-motion-duration-medium1) var(--md-sys-motion-easing-emphasized);
}

.text-button:hover {
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
}

/* 
 * 錯誤樣式按鈕 (Error Button) - 溫和的警示設計
 * --------------------------------------------------
 */
.error-button {
    background-color: var(--md-sys-color-error);
    color: var(--md-sys-color-on-error);
    border: none;
    border-radius: var(--md-sys-shape-corner-expressive-medium);
    padding: var(--md-sys-spacing-medium) var(--md-sys-spacing-extra-large);
    font-family: 'Roboto', sans-serif;
    font-size: var(--md-sys-typescale-label-large-font-size);
    font-weight: var(--md-sys-typescale-label-large-font-weight);
    cursor: pointer;
    box-shadow: var(--md-sys-elevation-level1); /* 較淺的陰影減少威脅感 */
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: var(--md-sys-spacing-small);
    min-height: 48px;
    
    transition: 
        background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        box-shadow var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-spring-snappy);
}

.error-button:hover {
    background-color: var(--md-sys-color-error);
    box-shadow: var(--md-sys-elevation-level2);
    transform: translateY(-1px);
}

/* 
 * 圖示按鈕 (Icon Button) - 簡潔的操作按鈕
 * --------------------------------------------------
 */
.icon-button {
    background: none;
    border: none;
    border-radius: var(--md-sys-shape-corner-expressive-small);
    width: 48px; /* 增加觸控區域 */
    height: 48px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: var(--md-sys-color-on-surface-variant);
    position: relative;
    overflow: hidden;
    
    transition: 
        background-color var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-emphasized),
        color var(--md-sys-motion-duration-medium1) var(--md-sys-motion-easing-emphasized),
        transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-spring-snappy);
}

.icon-button:hover {
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
    transform: scale(1.1);
}

.icon-button.error-action {
    color: var(--md-sys-color-error);
}

.icon-button.error-action:hover {
    background-color: var(--md-sys-color-error-container);
    color: var(--md-sys-color-on-error-container);
}

/* 
 * 快速操作按鈕 - 一鍵賣出等功能
 * --------------------------------------------------
 */
.quick-action-button {
    background: linear-gradient(135deg, 
        var(--md-sys-color-tertiary) 0%, 
        var(--md-sys-color-tertiary-container) 100%);
    color: var(--md-sys-color-on-tertiary);
    border: none;
    border-radius: var(--md-sys-shape-corner-expressive-small);
    padding: var(--md-sys-spacing-small) var(--md-sys-spacing-medium);
    font-family: 'Roboto', sans-serif;
    font-size: var(--md-sys-typescale-body-small-font-size);
    font-weight: var(--md-sys-typescale-label-medium-font-weight);
    cursor: pointer;
    box-shadow: var(--md-sys-elevation-level1);
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: var(--md-sys-spacing-extra-small);
    min-height: 32px;
    
    transition: 
        background var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle),
        transform var(--md-sys-motion-duration-short3) var(--md-sys-motion-easing-spring-bouncy);
}

.quick-action-button:hover {
    background: linear-gradient(135deg, 
        var(--md-sys-color-tertiary-container) 0%, 
        var(--md-sys-color-tertiary) 100%);
    transform: translateY(-1px) scale(1.05);
    box-shadow: var(--md-sys-elevation-level2);
}

/* 
 * Material Icons 圖示樣式
 * --------------------------------------------------
 */
.material-icons {
    font-size: 20px;
    position: relative;
    z-index: 1;
    
    /* 微妙的圖標動畫 */
    transition: transform var(--md-sys-motion-duration-medium1) var(--md-sys-motion-easing-spring-gentle);
}

.filled-button:hover .material-icons,
.outlined-button:hover .material-icons {
    transform: scale(1.1);
}

/* 
 * 波紋效果 (Ripple Effect)
 * --------------------------------------------------
 */
.filled-button::before,
.outlined-button::before,
.text-button::before,
.icon-button::before,
.error-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle), 
                height var(--md-sys-motion-duration-medium2) var(--md-sys-motion-easing-spring-gentle);
}

.filled-button:active::before,
.outlined-button:active::before,
.text-button:active::before,
.icon-button:active::before,
.error-button:active::before {
    width: 300px;
    height: 300px;
}

/* 
 * 成功動畫效果
 * --------------------------------------------------
 */
.button-success-animation {
    animation: buttonSuccess var(--md-sys-motion-duration-long1) var(--md-sys-motion-easing-spring-bouncy);
}

@keyframes buttonSuccess {
    0% { 
        transform: scale(1); 
        background-color: var(--md-sys-color-primary); 
    }
    25% { 
        transform: scale(1.05); 
        background-color: var(--md-sys-color-success); 
    }
    50% { 
        transform: scale(1.02); 
        background-color: var(--md-sys-color-success); 
    }
    100% { 
        transform: scale(1); 
        background-color: var(--md-sys-color-primary); 
    }
}

/* 
 * 按鈕群組
 * --------------------------------------------------
 */
.button-group {
    display: flex;
    gap: var(--md-sys-spacing-medium);
    align-items: center;
    margin-top: var(--md-sys-spacing-large);
}

.button-group.center {
    justify-content: center;
}

.button-group.end {
    justify-content: flex-end;
}

/* 
 * 禁用狀態
 * --------------------------------------------------
 */
.filled-button:disabled,
.outlined-button:disabled,
.text-button:disabled,
.error-button:disabled,
.icon-button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
    pointer-events: none;
}

/* 
 * 載入狀態
 * --------------------------------------------------
 */
.button-loading {
    position: relative;
    color: transparent !important;
}

.button-loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 16px;
    height: 16px;
    border: 2px solid currentColor;
    border-top: 2px solid transparent;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: buttonSpin 1s linear infinite;
    color: var(--md-sys-color-on-primary);
}

@keyframes buttonSpin {
    to {
        transform: translate(-50%, -50%) rotate(360deg);
    }
} 