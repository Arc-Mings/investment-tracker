# 投資紀錄表 - 專業桌面投資追蹤系統

一個功能完整的 **Electron 桌面應用程式**，專為個人投資組合管理而設計，支援股票、基金、加密貨幣和房地產投資的記錄與分析。

## 🌟 主要功能

### 📈 投資追蹤
- **股票投資**：支援台股和美股，自動計算持倉成本和獲利
- **基金投資**：支援買入和贖回，追蹤淨值變化
- **加密貨幣**：支援小數點8位精度，台幣計價
- **房地產**：預售屋房貸管理和繳款記錄

### 💰 智能分析
- **持倉管理**：自動計算每個標的的持有數量和平均成本
- **獲利計算**：賣出時自動計算獲利/虧損和報酬率
- **投資組合分析**：視覺化儀表板顯示資產配置
- **安全操作**：手動填寫表單進行交易，避免誤操作

### 🎨 現代化介面
- 採用 Material Design 3 設計規範
- 響應式設計，支援各種螢幕尺寸
- 直觀的卡片式佈局和自定義確認對話框
- 豐富的視覺化圖表和流暢動畫效果
- 一致性的視覺設計語言
- 智能表單佈局：加密貨幣和預售屋表單完美居中對齊

### 🖥️ 桌面應用程式特色
- **真正的桌面體驗**：原生視窗管理，無瀏覽器框架
- **直觀操作**：點擊 X 按鈕直接關閉程式，符合用戶習慣
- **獨立執行**：不依賴瀏覽器，完全自主的應用程式
- **一鍵啟動**：雙擊 `start.bat` 即可啟動，無需額外設定
- **自動隱藏**：啟動時命令提示字元自動隱藏，提供純淨體驗
- **簡潔介面**：乾淨的設計，只保留必要功能

## 🚀 快速開始

### 🏆 方法一：Electron 桌面應用程式（強烈推薦）

**最簡單的使用方式，享受完整桌面應用程式體驗：**

1. **下載專案**：
   ```bash
   git clone [你的倉庫地址]
   cd investment-tracker
   ```

2. **一鍵啟動**：
   - Windows：雙擊 `start.bat` 檔案
   - 或在命令列執行：`npm start`

3. **享受桌面體驗**：
   - ✅ 自動安裝相依套件（首次執行）
   - ✅ 自動隱藏命令提示字元
   - ✅ SQLite 資料庫自動啟動
   - ✅ 原生桌面視窗體驗

### 📱 桌面應用程式使用說明

#### 啟動與退出
- **啟動**：雙擊 `start.bat` → 自動隱藏命令列 → 應用程式開啟
- **退出**：點擊視窗 X 按鈕 → 程式直接關閉
- **資料安全**：每次操作都會自動儲存，無需擔心資料遺失

#### 資料庫狀態
- 🟢 **SQLite 已連線**：雲朵打勾圖示，綠色
- 🟠 **連線中**：儲存圖示，橙色
- 🔴 **離線模式**：雲朵關閉圖示，紅色

### 🌐 方法二：網頁版本（備用選項）

如果需要在瀏覽器中使用：

```bash
# 啟動本地伺服器
cd investment-tracker
npx http-server -p 8080
# 然後在瀏覽器開啟 http://localhost:8080/door.html
```

## 📱 使用說明

### 🔋 資料庫狀態指示器
在應用程式右上角有一個智能資料庫狀態指示器：
- **🟢 SQLite 已連線**：雲朵打勾圖示（綠色），資料會自動雙重備份
- **🟠 連線中...**：儲存圖示（橙色），正在嘗試連接資料庫
- **🔴 離線模式**：雲朵關閉圖示（紅色），僅使用 localStorage

### 1. 股票投資
- 選擇市場（台股/美股）
- 輸入股票代碼、交易類型、數量、價格
- 系統自動計算持倉和獲利狀況
- 支援快速賣出功能

### 2. 基金投資
- 輸入基金名稱、交易類型（買入/贖回）
- 記錄淨值和單位數
- 自動計算平均成本和持倉價值

### 3. 加密貨幣
- 支援小數點8位精度（如：0.00000001 BTC）
- 台幣計價，避免匯率困擾
- 智能輸入驗證，防止格式錯誤

### 4. 持倉分析
- 查看整體投資組合配置
- 各類資產的佔比和績效
- 未實現損益一目了然

## 💾 資料管理

### 🔒 雙重儲存保護
- **主要儲存**：瀏覽器 localStorage（即時儲存）
- **備援儲存**：SQLite 資料庫（自動同步）
- **智能切換**：如 localStorage 失效，自動從 SQLite 恢復
- **無縫體驗**：資料庫故障不影響正常使用

### 📊 資料庫功能
- **結構化存儲**：支援複雜查詢和報表分析
- **ACID 保證**：確保資料完整性和一致性
- **自動備份**：每次操作都會自動同步到資料庫
- **狀態指示**：即時顯示資料庫連線狀態

### 🔄 匯出/匯入
- 支援 JSON 格式匯出
- 可備份資料或轉移到其他裝置
- 一鍵清除所有資料功能
- 跨平台資料移轉支援

## 🛠️ 技術特色

### 🖥️ Electron 桌面技術
- **跨平台桌面應用**：基於 Electron，支援 Windows、macOS、Linux
- **原生體驗**：真正的桌面視窗管理和系統整合
- **直觀關閉**：點擊 X 按鈕直接退出，符合用戶習慣
- **自動啟動**：VBScript 技術實現命令列完全隱藏
- **安全通信**：使用 contextBridge 確保前後端通信安全

### 💻 前端技術
- **Material Design 3**：Google 最新設計規範實現
- **自定義對話框**：統一的視覺風格，替代原生 confirm
- **模組化架構**：ES6+ 模組系統，程式碼結構清晰
- **響應式設計**：適配各種螢幕尺寸的流暢體驗
- **智能動畫**：流暢的轉場效果和交互回饋

### 🗃️ 資料庫技術
- **SQLite + Sequelize**：企業級 ORM 框架
- **雙重備份機制**：localStorage + SQLite 確保資料安全
- **智能故障切換**：資料庫故障時自動使用本地儲存
- **零配置啟動**：自動創建資料庫和表結構
- **即時狀態顯示**：視覺化資料庫連線狀態

## 📁 檔案結構

```
investment-tracker/
├── start.bat                # 🚀 一鍵啟動腳本（Windows）
├── door.html               # 主應用程式頁面
├── electron-main.js        # Electron 主進程（完整功能）
├── electron-working.js     # Electron 主進程（基礎版）
├── preload.js             # 安全通信橋樑
├── package.json           # 專案配置和依賴
├── css/                   # 🎨 樣式檔案
│   ├── components/        # 元件樣式（含自定義對話框）
│   ├── design-system/     # Material Design 3 設計系統
│   └── responsive/        # 響應式樣式
├── js/                    # 💻 JavaScript 模組
│   ├── core/             # 核心功能（狀態管理、事件系統）
│   ├── features/         # 功能模組（股票、基金、加密貨幣等）
│   ├── data/             # 資料處理（本地儲存、資料庫）
│   ├── services/         # 外部服務（股票 API）
│   └── ui/               # 使用者介面（表格、控制元件）
├── backend/              # 🗃️ 後端服務
│   ├── server.js         # Express 伺服器
│   ├── database/         # 資料庫相關
│   └── models/           # 資料模型
├── docs/                 # 📚 說明文件
└── assets/               # 靜態資源
```

## 🔧 自訂設定

### 修改樣式
- 編輯 `css/` 資料夾中的檔案
- 響應式參數只能在 `responsive.css` 中修改

### 新增功能
- 在 `js/features/` 中新增功能模組
- 在 `js/core/events.js` 中註冊新的事件處理器

## ⚠️ 注意事項

1. **瀏覽器相容性**：建議使用 Chrome、Firefox、Safari 或 Edge 最新版本
2. **資料安全保護**：
   - 使用完整模式時，資料會同時儲存在 localStorage 和 SQLite 資料庫
   - 僅前端模式時，建議定期使用匯出功能備份資料
   - 所有資料僅儲存在您的電腦上，不會上傳到任何外部伺服器
3. **後端服務**：
   - 後端服務僅在本地運行，增強資料持久性
   - 如果不需要資料庫功能，可以僅使用前端模式
   - 資料庫檔案位於 `backend/investment_tracker.db`

## 🤝 支援與回饋

如果您在使用過程中遇到問題或有改進建議，歡迎提供回饋！

## 📄 授權

此專案採用 MIT 授權條款，您可以自由使用、修改和分發。

---

**開始您的投資追蹤之旅吧！** 📊💰 